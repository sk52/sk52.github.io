{"componentChunkName":"component---src-templates-blog-post-js","path":"/adding-a-sitemap-xml-to-gatsby-site/","result":{"data":{"site":{"siteMetadata":{"title":"Always learning"}},"markdownRemark":{"id":"55d6085d-f758-53f4-baa3-ebc0ca01bccc","excerpt":"For those new to web development with Gatsby, search engine optimisation (SEO) might not be the main priority.\nWe’ll look at how we can add a sitemap.xml file…","html":"<p>For those new to web development with Gatsby, search engine optimisation (SEO) might not be the main priority.\nWe’ll look at how we can add a sitemap.xml file to a Gatsby site to help improve SEO. </p>\n<h2>Why</h2>\n<p>A sitemap.xml is simply a page on your site which tells Google which pages exist on your site. It can also include details such as page priority, and last modified dates. By adding a sitemap.xml file, it allows search engines to crawl and index your site more easily. This improves the likelihood of showing up on search engine results. </p>\n<h2>Prerequisites</h2>\n<p>We’ll assume that you already have a list of all URL’s present on your site. There are various ways to create this. It is usually not practical to manually gather a list of all URL’s, generating it automatically is a preferred approach due to the size and complexity of most websites. </p>\n<h2>How</h2>\n<p>The sitemap.xml itself adheres to a <a href=\"https://www.sitemaps.org/protocol.html\">schema</a>. This schema is made up of a top-level xml element <code class=\"language-text\">&lt;urlset&gt;</code> which contains a list of <code class=\"language-text\">&lt;url&gt;</code> elements. </p>\n<p>Each <code class=\"language-text\">&lt;url&gt;</code> element can contain a number of other elements: <code class=\"language-text\">&lt;loc&gt;</code>, <code class=\"language-text\">&lt;lastmod&gt;</code>, <code class=\"language-text\">&lt;changefreq&gt;</code>, and <code class=\"language-text\">&lt;priority&gt;</code>. </p>\n<p>We’ll be demonstrating a simple sitemap.xml file which only includes the <code class=\"language-text\">&lt;loc&gt;</code> element (this specifies the URL of the given page, it will begin with the protocol, as per the schema above).</p>\n<p>Here’s an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>urlset</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>loc</span><span class=\"token punctuation\">></span></span>https://sk52.github.io<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>loc</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>loc</span><span class=\"token punctuation\">></span></span>https://sk52.github.io/env-var-validation<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>loc</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>urlset</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Once you have formatted the list of site URL’s to follow the above example, save it as <code class=\"language-text\">static/sitemap.xml</code>.</p>\n<p>Next time you deploy your Gatsby site, the sitemap will be available. </p>\n<h2>Updating Robots.txt</h2>\n<p>Now that the sitemap is available on the site, specify it’s location in the <code class=\"language-text\">robots.txt</code> file.</p>\n<p>In <code class=\"language-text\">static/robots.txt</code>, append the following line, replacing the URL with your site URL:</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">Sitemap: https://sk52.github.io/sitemap.xml</code></pre></div>\n<p>This will help search engines to know where to find the <code class=\"language-text\">sitemap.xml</code>.</p>\n<h2>Summary</h2>\n<p>Adding a <code class=\"language-text\">sitemap.xml</code> file to a Gatsby site is straightforward and can really help with SEO. There are numerous ways to generate the <code class=\"language-text\">sitemap.xml</code> file itself, which will be covered in future posts. </p>","frontmatter":{"title":"Adding a Sitemap.xml to Gatsby Site","tags":["Gatsby","Sitemap"],"date":"March 23, 2022","description":null}},"previous":{"fields":{"slug":"/env-var-validation/"},"frontmatter":{"title":"Environment Variable Validation Using Joi"}},"next":null},"pageContext":{"id":"55d6085d-f758-53f4-baa3-ebc0ca01bccc","previousPostId":"7782c2b9-bef0-5053-9fce-b29530186573","nextPostId":null}},"staticQueryHashes":["230163734","2841359383"]}